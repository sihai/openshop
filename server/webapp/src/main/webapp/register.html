<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>
            私人定制俱乐部 | 会员注册
        </title>
        <meta name="description" content="Satorisan es una nueva marca de calzado con tendencia urbana que diseña para personas que no siguen las tendencias preestablecidas, ni las modas sobreexplotadas, y que no tienen miedo de probar algo diferente porque saben lo que les gusta."/>
        <meta name="keywords" content="Satorisan, Zapatillas" />
        <meta name="robots" content="INDEX,FOLLOW" />
        <link rel="icon" href="/assets/new/images/favicon.png" type="image/x-icon" />
        <link rel="shortcut icon" href="/assets/new/images/favicon.png" type="image/x-icon" />
        <!--[if lt IE 7]>
            <script type="text/javascript">
                //<![CDATA[
                var BLANK_URL = '/blank.html';
                var BLANK_IMG = '/assets/new/images/spacer.gif';
                //]]>
            </script>
        <![endif]-->
       
       	<script src='/assets/new/js/vars.js'></script>
        <script src='/assets/new/js/jquery-1.8.3.min.js'></script>
        <script src='/assets/new/js/jquery-ui-1.8.23.custom.min.js'></script>
        <script src='/assets/new/js/jquery.selectBoxIt.min.js'></script>
        <script src='/assets/new/js/jquery.fileinput.js'></script>
        <script src='/assets/new/js/jquery.nicescroll.min.js'></script>
        <script type="text/javascript" src="/assets/new/datePicker/WdatePicker.js"></script>
        <script type="text/javascript" src="/assets/new/js/jquery.lSelect.js"></script>
        <script src='/assets/new/js/main.js'></script>
        <script src="/assets/h5/js/openshopjssdk.js"></script>
        <script src="/assets/h5/js/openshopjssdk-init.js"></script>
        <script src="/assets/new/js/register.js"></script>
        
        <script type="text/javascript" src="/assets/h5/js/jsbn.js"></script>
		<script type="text/javascript" src="/assets/h5/js/prng4.js"></script>
		<script type="text/javascript" src="/assets/h5/js/rng.js"></script>
		<script type="text/javascript" src="/assets/h5/js/rsa.js"></script>
		<script type="text/javascript" src="/assets/h5/js/base64.js"></script>
        
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/styles.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/myaccount.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/orders.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/address.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/login.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/register.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/helpdesk.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/bootstrap.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/jquery-ui-1.9.1.custom.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/jquery.selectBoxIt.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/checkout.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/base/default/css/widgets.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/base/default/css/storelocator.css"
        media="all" />
        <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/print.css"
        media="print" />
        <script type="text/javascript" src="/assets/new/js/prototype.js"></script>
        <script type="text/javascript" src="/assets/new/js/ccard.js"></script>
        <script type="text/javascript" src="/assets/new/js/validation.js"></script>
        <script type="text/javascript" src="/assets/new/js/builder.js"></script>
        <script type="text/javascript" src="/assets/new/js/effects.js"></script>
        <script type="text/javascript" src="/assets/new/js/dragdrop.js"></script>
        <script type="text/javascript" src="/assets/new/js/controls.js"></script>
        <script type="text/javascript" src="/assets/new/js/slider.js"></script>
        <script type="text/javascript" src="/assets/new/js/js.js"></script>
        <script type="text/javascript" src="/assets/new/js/form.js"></script>
        <script type="text/javascript" src="/assets/new/js/menu.js"></script>
        <script type="text/javascript" src="/assets/new/js/translate.js"></script>
        <script type="text/javascript" src="/assets/new/js/cookies.js"></script>
        <script type="text/javascript" src="/assets/new/js/captcha.js"></script>
        
        <!--[if lt IE 8]>
            <link rel="stylesheet" type="text/css" href="/assets/new/skin/frontend/default/openshop/css/styles-ie.css"
            media="all" />
        <![endif]-->
        <!--[if lt IE 7]>
            <script type="text/javascript" src="/assets/new/js/ds-sleight.js"></script>
            <script type="text/javascript" src="/assets/new/skin/frontend/base/default/js/ie6.js"></script>
        <![endif]-->
        <script type="text/javascript">
            //<![CDATA[
            Mage.Cookies.path = '/';
            Mage.Cookies.domain = '.openshop.com';
            //]]>
            
        </script>
        <script type="text/javascript">
            //<![CDATA[
            optionalZipCountries = ["IE", "PA", "HK", "MO"];
            //]]>
            
        </script>
        <script type="text/javascript">
            //<![CDATA[
            window.HDUSeed = 'f3c1798609815a33e0388eed9f3f7b57';
            window.HDUSeedIntId = setInterval(function() {
                if (document.observe) {
                    document.observe('dom:loaded',
                    function() {
                        for (var i = 0; i < document.forms.length; i++) {
                            if (document.forms[i].getAttribute('action') && document.forms[i].getAttribute('action').match('contacts/index/post')) {
                                var el = document.createElement('input');
                                el.type = ('hidden');
                                el.name = 'hdu_seed';
                                el.value = window.HDUSeed;
                                document.forms[i].appendChild(el);

                            }
                        }
                    });
                    clearInterval(window.HDUSeedIntId)
                }
            },
            100)
            //]]>
            
        </script>
        <script type="text/javascript">
            //<![CDATA[
            var Translator = new Translate({
                "请输入6个以上的字符。 前后空格不算。": "请输入6个以上的字符。 前后空格不算。"
            });
            //]]>
            
        </script>
        
        <link rel="stylesheet" href="/assets/new/css/enhanced.css"/>
        <script type="text/javascript">
            if (parent) {
                if (parent.user) {
                    parent.user.updateCart('0');
                    parent.user.updateLogin('0', 'international');
                }
            }
            //$.noConflict();
            jQuery.noConflict();

            var MAGENTO_LANGUAGE_LOCALE = 'en_US';
            var MAGENTO_LANGUAGE = 'en';
        </script>
    </head>
    
    <body class="  customer-account-create lang-en international ">
        <!-- BEGIN GOOGLE ANALYTICS CODEs -->
        <script type="text/javascript">
            //<![CDATA[
            var _gaq = _gaq || [];

            _gaq.push(['_setAccount', 'UA-38603141-1']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script');
                ga.type = 'text/javascript';
                ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl': 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(ga, s);
            })();

            //]]>
            
        </script>
        <!-- END GOOGLE ANALYTICS CODE -->
        <div class="wrapper">
            <noscript>
                <div class="global-site-notice noscript">
                    <div class="notice-inner">
                        <p>
                            <strong>
                                JavaScript seems to be disabled in your browser.
                            </strong>
                            <br />
                            You must have JavaScript enabled in your browser to utilize the functionality
                            of this website.
                        </p>
                    </div>
                </div>
            </noscript>
            <div class="page">
                <div class="main-container col1-layout">
                    <div class="main">
                        <div class="col-main">
                            <div class="account-create ">
                                <div class="titlecheck clearfix">
                                    <h1>
                                        注册会员
                                    </h1>
                                    <p class="login-link">
                                        <span>
                                            已经注册?
                                            <a href="/login.html" class="button">
                                                请点击这里
                                            </a>
                                        </span>
                                    </p>
                                </div>
                                <div class="account-create-description">
                                    注册"私人定制俱乐部"帐号，您可以更快的定制或购买到我们的产品，
                                                    因为我们已经存储了您的信息，您也可以跟踪您的订单，也可以了解到我们最新的活动，最新产品的信息。
                                                    <br/>
                                                    <strong>我们会严格保密您的信息。</strong>
                                </div>
                                <p class="required required_fields">
                                    * 必填项目
                                </p>
                                <form method="post" id="form-validate">
                                    <div id="one" class="fieldset clearfix">
                                        <h2 class="legend">
                                            登录信息
                                        </h2>
                                        <ul class="form-list clearfix">
                                            <li>
                                                <label for="email_address" class="required">
                                                    邮箱 *
                                                </label>
                                                <!-- <div class="input-box"> -->
                                                <input type="text" name="email" id="email" value="" title="邮箱" class="input-text validate-email required-entry" />
                                                <!-- </div> -->
                                            </li>
                                            <!-- <li class="fields"> -->
                                            <li>
                                                <!-- <div class="field"> -->
                                                <label for="password" class="required">
                                                    密码 *
                                                </label>
                                                <!-- <div class="input-box"> -->
                                                <input placeholder="最短6个字符, 最长32个字符" type="password" name="password" id="password" title="密码" class="input-text required-entry validate-password" />
                                                <!-- </div> -->
                                                <!-- </div> -->
                                                <!-- <div class="field"> -->
                                                <label for="confirmation" class="required">
                                                    确认密码 *
                                                </label>
                                                <!-- <div class="input-box"> -->
                                                <input placeholder="请重新输入一遍密码" type="password" name="confirmation" title="确认密码" id="confirmation" class="input-text required-entry validate-cpassword" />
                                                <!-- </div> -->
                                                <!-- </div> -->
                                            </li>
                                        </ul>
                                        <div id="window-overlay" class="window-overlay" style="display:none;">
                                        </div>
                                        <div id="remember-me-popup" class="remember-me-popup" style="display:none;">
                                            <div class="remember-me-popup-head">
                                                <h3>
                                                    What's this?
                                                </h3>
                                                <a href="#" class="remember-me-popup-close" title="Close">
                                                    Close
                                                </a>
                                            </div>
                                            <div class="remember-me-popup-body">
                                                <p>
                                                    Checking &quot;Remember Me&quot; will let you access your shopping cart
                                                    on this computer when you are logged out
                                                </p>
                                                <div class="remember-me-popup-close-button a-right">
                                                    <a href="#" class="remember-me-popup-close button" title="Close">
                                                        <span>
                                                            Close
                                                        </span>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                        <script type="text/javascript">
                                            //<![CDATA[
                                            function toggleRememberMepopup(event) {
                                                if ($('remember-me-popup')) {
                                                    var viewportHeight = document.viewport.getHeight(),
                                                    docHeight = $$('body')[0].getHeight(),
                                                    height = docHeight > viewportHeight ? docHeight: viewportHeight;
                                                    $('remember-me-popup').toggle();
                                                    $('window-overlay').setStyle({
                                                        height: height + 'px'
                                                    }).toggle();
                                                }
                                                Event.stop(event);
                                            }

                                            document.observe("dom:loaded", function() {
                                                new Insertion.Bottom($$('body')[0], $('window-overlay'));
                                                new Insertion.Bottom($$('body')[0], $('remember-me-popup'));

                                                $$('.remember-me-popup-close').each(function(element){
                                                    Event.observe(element, 'click', toggleRememberMepopup);
                                                })
                                                $$('#remember-me-box a').each(function(element) {
                                                    Event.observe(element, 'click', toggleRememberMepopup);
                                                });
                                            });
                                            //]]>
                                            
                                        </script>
                                    </div>
                                    <div id="two" class="fieldset clearfix">
                                        <input type="hidden" name="success_url" value="" />
                                        <input type="hidden" name="error_url" value="" />
                                        <h2 class="legend">
                                            个人信息
                                        </h2>
                                        <ul class="form-list clearfix">
                                            <li>
                                                <!-- <li class="fields"> -->
                                                <div class="customer-name-prefix">
                                                    
                                                    <div class="field name-firstname">
                                                        <label for="username" class="required">
                                                            用户名 *
                                                        </label>
                                                        <div class="input-box">
                                                            <input type="text" id="username" name="username" value="" title="用户名" maxlength="255" class="input-text required-entry" />
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <!-- </li> -->
                                            </li>
                                            <li class="control" style="display:none;">
                                                <!-- <div class="input-box"> -->
                                                <input type="checkbox" name="is_subscribed" title="Sign Up for Newsletter"
                                                value="1" id="is_subscribed" class="checkbox" />
                                                <!-- </div> -->
                                                <label for="is_subscribed">
                                                    <span>
                                                    </span>
                                                    Sign Up for Newsletter
                                                </label>
                                            </li>
                                            <li>
                                                <!-- <div class="field"> -->
                                                <label for="telephone" class="required">
                                                    电话
                                                </label>
                                                <!-- <div class="input-box">  -->
                                                <input type="text" name="telephone" id="telephone" value="" title="电话" class="input-text" />
                                                <!-- </div> -->
                                                <!-- </div> -->
                                            </li>
                                            <li>
                                                <!-- <div class="field"> -->
                                                <label for="birthday">
                                                    生日
                                                </label>
                                                <!-- <div class="input-box">  -->
                                                <input type="text" name="birthday" id="birthday" value="" title="生日" class="input-text" onfocus="WdatePicker();" />
                                                <!-- </div> -->
                                                <!-- </div> -->
                                            </li>
                                            
                                            <li>
                                                <label for="gender">
                                                    性别 *
                                                </label>
                                                <div class="input-box">
                                                    <!-- <select id="gender" name="gender" title="Gender">
                                                    <option value="" selected="selected"></option>
                                                    <option value="1">Male</option>
                                                    <option value="2">Female</option>
                                                    </select>
                                                    -->
                                                    <div id="gender" class="gender_full clearfix" name="gender" title="Gender">
                                                        <div class="gender clearfix">
                                                            <input id="genero_1" type="radio" name="gender" value="1" checked="true">
                                                            <label for="genero_1">
                                                                <span>
                                                                </span>
                                                                男士
                                                            </label>
                                                        </div>
                                                        <div class="gender clearfix">
                                                            <input id="genero_2" type="radio" name="gender" value="2">
                                                            <label for="genero_2">
                                                                <span>
                                                                </span>
                                                                女士
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                    <div id="three" class="fieldset clearfix">
                                        <input type="hidden" name="create_address" value="1" />
                                        <h2 class="legend">
                                            地址信息
                                        </h2>
                                        <ul class="adress_registrer form-list clearfix">
                                            <!-- <li class="wide"> -->
                                            <li class="adress_01">
                                                <label for="street_1" class="required">
                                                    地区
                                                </label>
                                                <!-- <div class="input-box"> -->
                                                <input type="hidden" name="area_id" id="area_id" class="text" title="地区" ></input>
                                            </li>
                                            <!-- <li class="fields"> -->
                                            <li class="adress_02">
                                                <!-- <div class="field"> -->
                                                <label for="country" class="required">
                                                     街道地址
                                                </label>
                                                <!-- <div class="input-box"> -->
                                                <input id="street" type="text" name="street" value="" title="街道地址" class="input-text" />
                                                <!-- </div> -->
                                            </li>
                                            
                                            <li class="adress_05">
                                                <!-- <li class="fields"> -->
                                                <!-- <div class="field"> -->
                                                <label for="zip" class="required">
                                                    邮编
                                                </label>
                                                <!-- <div class="input-box"> -->
                                                <input type="text" name="postcode" value="" title="邮编" id="zip"
                                                class="input-text validate-zip-international" />
                                                <!-- </div> -->
                                                <!-- </div> -->
                                            </li>
                                        </ul>
                                        <input type="hidden" name="default_billing" value="1" />
                                        <input type="hidden" name="default_shipping" value="1" />
                                    </div>
                                    <div class="buttons-set clearfix">
                                        <p class="back-link">
                                            <a href="/login.html" class="back-link">
                                                <small>
                                                    &laquo;
                                                </small>
                                                返回
                                            </a>
                                        </p>
                                        <button type="submit" title="提交注册" class="button has-validation">
                                            <span>
                                                <span>
                                                    提交注册
                                                </span>
                                            </span>
                                        </button>
                                    </div>
                                </form>
                                
                                <ul class="messages">
									<li class="error-msg">
										<ul>
											<li>
												<span id="error-msg">
													
												</span>
											</li>
										</ul>
									</li>
								</ul>
                                
                                <script type="text/javascript">
                                    //<![CDATA[
                                               /*
                                    parent.iframeInterface.ganalyticsTrackEvent({
                                        name: "REGISTER"
                                    });
                                               */
                                    var formid = 'form-validate';
                                    var dataForm = new VarienForm(formid, true);
                                    new Event.observe(formid, 'submit', function(e){
                                        e.stop();
                                        // ajax
                                        
                                        var email = jQuery('#email').val();
                                       	var password = jQuery('#password').val();
                                       	var username = jQuery('#username').val();
                                       	var telephone = jQuery('#telephone').val();
                                       	var birthday = jQuery('#birthday').val();
                                       	var gender = jQuery('#genero_1').attr('checked') ? 'male' : 'female';
                                       	window.jsbridge.callHandler('callApi', 
                                 				'com.openteach.openshop.server.security.publick.alloc',
                                 				'0.0.1',
                                 				{},
                                 				function(response) {
                                 					console.log('com.openteach.openshop.server.security.publick.alloc', response);
                                 					if(response.succeed) {
                                 						var rsaKey = new RSAKey();
                                 						rsaKey.setPublic(b64tohex(response.data.modulus), b64tohex(response.data.exponent));
                                 						var enPassword = hex2b64(rsaKey.encrypt(password));
                                 						
                                 						window.jsbridge.callHandler('callApi', 
                                 							'com.openteach.openshop.server.user.register',
                                 							'0.0.1',
                                 							{
                                 								'email': email,
                                 								'enPassword': enPassword,
                                 								'user_name': username, 
                                 								'telephone': telephone,
                                 								'birthday': birthday,
                                 								'gender': gender
                                 							},
                                 							function(response) {
                                 								console.log('Got response from com.openteach.openshop.server.user.register', response);
                                 								if(response.succeed) {
                                 									window.location.href = '/';
                                 								} else {
                                 									// TODO
                                 									jQuery('#error-msg').text(response.errorMsg);
                                 								}
                                 							});
                                 					} else {
                                 						// TODO
                                 					}
                                 			});
                                    });
                                    //]]>
                                    
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script type="text/javascript">
    	jQuery(document).ready(function() {
			
    		jQuery("#area_id").lSelect({
				url: "/common/area.jhtml"
			});
		});
	</script>
</html>